#!/bin/bash
	
	prog_name=$(/usr/bin/basename ${0})
	prog_version="2.0"
	
	logging_standard() {
		
		log_file="/tmp/${prog_name}.log"
		
		[ ! -s "${log_file}" ] && touch "${log_file}"
		
		exec 3>&1 1>>${log_file} 2>&1
		
	}
	
	console() {
		printf "%s\n" "$*" 1>&3
	}
	
	logging_standard
	
	bld=$(/usr/bin/tput bold)
	clr=$(/usr/bin/tput sgr0)
	uln=$(/usr/bin/tput smul)
	
	cask="${1}"

	if [ -z "${1}" ]; then
		echo "Error: Invalid argument" && exit 1
	fi
	
	app=$(/usr/local/bin/brew cask _stanza app ${cask})
	version=$(/usr/local/bin/brew cask _stanza version ${cask})
	url=$(/usr/local/bin/brew cask _stanza url ${cask})
	sha265=$(/usr/local/bin/brew cask _stanza sha256 ${cask})
	appcast=$(/usr/local/bin/brew cask _stanza appcast ${cask})
	appcast_checkpoint=$(/usr/local/bin/brew cask _stanza appcast ${cask})
	homepage=$(/usr/local/bin/brew cask _stanza homepage ${cask})
	
	if [ ! -z "${appcast}" ]; then
		checkpoint=$(/usr/local/bin/appcast-checkpoint ${appcast_checkpoint})
	fi
	
	console "${bld}cask${clr}:        ${cask}"
	
	if [ ! -z "${app}" ]; then
		console "${bld}app${clr}:         ${app}"
	fi
	
	console "${bld}version${clr}:     ${version}"
	console "${bld}url${clr}:         ${url}"
	console "${bld}sha265${clr}:      ${sha265}"
	
	if [ ! -z "${appcast}" ]; then
		console "${bld}appcast${clr}:     ${appcast}"
		console "${bld}checkpoint${clr}:  ${checkpoint}"
	fi
	
	console "${bld}homepage${clr}:    ${uln}${homepage}${clr}"